version: '3.4'

services:
  shingo-auth-api:
    image: docker.shingo.org/shingo-auth-api:local
    build:
      context: .
      target: debug
    environment:
      NODE_ENV: development
      MYSQL_URL:
      MYSQL_AUTH_USER:
      MYSQL_AUTH_PASS:
      MYSQL_AUTH_DB:
      MYSQL_PORT:
    networks:
      shingo-dev-net:
        aliases:
          - "shingo-auth-api"
      default:
    volumes:
      - ./build:/build
    ports:
      - "${PORT:-8080}:80"
      - "${INSPECT_PORT:-9229}:9229"
    ## set your startup file here
    command: npm run debug

networks:
  shingo-dev-net:
    external: true