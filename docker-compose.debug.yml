version: '2.1'

services:
  shingo-auth-api:
    image: docker.shingo.org/shingo-auth-api:local
    build:
      context: .
      target: debug
    environment:
      NODE_ENV: development
    networks:
      shingo-dev-net:
        aliases:
          - "shingo-auth-api"
      default:
    volumes:
      - ./build:/build
    ports:
      - "${PORT:-8080}:80"
      - "${INSPECT_PORT:-9229}:9229"
    ## set your startup file here
    command: npm run debug

networks:
  shingo-dev-net:
    external: true